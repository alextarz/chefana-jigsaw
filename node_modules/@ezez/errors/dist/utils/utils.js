"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.enhanceToString = exports.getPrototypesNames = exports.getDetails = exports.getMessage = void 0;
const getMessage = (error, message) => {
    return message || (error === null || error === void 0 ? void 0 : error.message) || "";
};
exports.getMessage = getMessage;
const getDetails = (error, details) => {
    return details || (error === null || error === void 0 ? void 0 : error.details) || null;
};
exports.getDetails = getDetails;
const getPrototypesNames = (obj) => {
    const MAX_DEPTH = 100;
    const result = [];
    let i, currentPrototype;
    i = 0;
    currentPrototype = obj;
    while (currentPrototype && i++ < MAX_DEPTH) {
        const proto = Object.getPrototypeOf(currentPrototype);
        if (proto === null || proto === void 0 ? void 0 : proto.name) {
            const repeatedPrototypeName = result[result.length - 1] === proto.name;
            if (!repeatedPrototypeName) {
                result.push(proto.name);
            }
        }
        currentPrototype = proto;
    }
    return result;
};
exports.getPrototypesNames = getPrototypesNames;
const enhanceToString = (array) => {
    Object.defineProperty(array, "toString", {
        configurable: true,
        enumerable: false,
        value: function toStringCustom() {
            return "(" + Array.prototype.toString.call(this) + ")";
        },
        writable: true,
    });
    return array;
};
exports.enhanceToString = enhanceToString;
//# sourceMappingURL=utils.js.map