"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.cleanUpStack = void 0;
const cleanUpStack = (stack, name, message, { cleanStackTraces }) => {
    let newLines;
    const lines = stack.split("\n");
    const newFirstLine = name + (message ? ": " + message : "");
    lines.shift();
    lines.shift();
    if (cleanStackTraces) {
        newLines = lines.filter((line) => {
            return (!(/at .* \(internal.*:\d+:\d+\)/.test(line))
                && !(/at .* \(node:internal.*:\d+:\d+\)/.test(line)));
        });
    }
    else {
        newLines = lines;
    }
    return newFirstLine + "\n" + newLines.join("\n");
};
exports.cleanUpStack = cleanUpStack;
//# sourceMappingURL=cleanUpStack.js.map